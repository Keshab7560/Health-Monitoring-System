<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health.AI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Global Styles */
        :root {
            --bg-color: #f0f8ff;
            --text-color: #333;
            --header-bg: linear-gradient(135deg, #0077b6, #00b4d8);
            --card-bg: white;
            --footer-bg: #003554;
            --footer-text: #ddd;
            --btn-gradient: linear-gradient(to right, #ff6b6b, #4ecdc4);
            --service-link-gradient: linear-gradient(to right, #ff6b6b, #4ecdc4);
            --hero-overlay: rgba(0, 0, 0, 0.6);
            --section-title-color: #0077b6;
            --chatbot-bg: white;
            --chatbot-header: linear-gradient(135deg, #0077b6, #00b4d8);
            --bot-message-bg: #e3f2fd;
            --input-border: #ddd;
        }

        [data-theme="dark"] {
            --bg-color: #121212;
            --text-color: #f0f0f0;
            --header-bg: linear-gradient(135deg, #0a3d62, #1e3799);
            --card-bg: #1e1e1e;
            --footer-bg: #001a2c;
            --footer-text: #aaa;
            --btn-gradient: linear-gradient(to right, #d45d5d, #3ca59d);
            --service-link-gradient: linear-gradient(to right, #d45d5d, #3ca59d);
            --hero-overlay: rgba(0, 0, 0, 0.8);
            --section-title-color: #4ecdc4;
            --chatbot-bg: #2d2d2d;
            --chatbot-header: linear-gradient(135deg, #0a3d62, #1e3799);
            --bot-message-bg: #2a3d4d;
            --input-border: #444;
        }

        [data-mode="simple"] {
            --btn-gradient: linear-gradient(to right, #0077b6, #00b4d8);
            --service-link-gradient: linear-gradient(to right, #0077b6, #00b4d8);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
        }

        /* Header Styles */
        header {
            background: var(--header-bg);
            color: white;
            padding: 1rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .logo i {
            margin-right: 10px;
            font-size: 1.8rem;
            color: #ff6b6b;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .nav-links {
            display: flex;
            list-style: none;
            align-items: center;
        }

        .nav-links li {
            margin-left: 1.5rem;
            position: relative;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 0.5rem;
            border-radius: 5px;
            font-size: 1rem;
        }

        .nav-links a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .nav-links li::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background: white;
            bottom: 0;
            left: 0;
            transition: width 0.3s ease;
        }

        .nav-links li:hover::after {
            width: 100%;
        }

        .mode-toggle {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            margin-left: 1rem;
            padding: 0.5rem;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .mode-toggle:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Login/Signup Buttons */
        .auth-buttons {
            display: flex;
            gap: 0.5rem;
            margin-left: 1rem;
        }

        .auth-btn {
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid white;
            background: transparent;
            color: white;
        }

        .auth-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .auth-btn.login {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Admin Dashboard Button */
        .admin-btn {
            background: linear-gradient(to right, #ff9a3d, #ff6b6b);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            margin-left: 0.5rem;
        }

        .admin-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        /* User Welcome */
        .user-welcome {
            display: flex;
            align-items: center;
            margin-right: 1rem;
            font-weight: 500;
        }

        .user-welcome i {
            margin-right: 0.5rem;
            color: #4ecdc4;
        }

        /* Password Input Container */
        .password-input-container {
            position: relative;
            display: flex;
            align-items: center;
        }

        .password-input-container input {
            padding-right: 35px;
            width: 100%;
        }

        .toggle-password {
            position: absolute;
            right: 10px;
            cursor: pointer;
            color: #666;
            z-index: 2;
        }

        .toggle-password:hover {
            color: #0077b6;
        }

        .form-text {
            font-size: 0.8rem;
            color: #666;
            margin-top: 0.5rem;
        }

        [data-theme="dark"] .form-text {
            color: #aaa;
        }

        .form-text ul {
            margin-bottom: 0;
            padding-left: 1.5rem;
        }

        /* Mobile Menu Button - initially hidden */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Mobile Menu Styles */
        .mobile-menu {
            display: none;
            position: fixed;
            top: 60px;
            left: 0;
            width: 100%;
            background: var(--header-bg);
            z-index: 999;
            padding: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transform: translateY(-100%);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .mobile-menu.active {
            transform: translateY(0);
            opacity: 1;
        }

        .mobile-menu ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .mobile-menu li {
            margin: 0;
        }

        .mobile-menu a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem;
            display: block;
            border-radius: 5px;
        }

        .mobile-menu a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .mobile-menu .auth-buttons {
            margin: 1rem 0 0;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .mobile-menu .user-welcome {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            color: white;
        }

        .mobile-menu .mode-toggles {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            background: url('https://images.unsplash.com/photo-1620712943543-bcc4688e7485') no-repeat center center/cover;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            margin-top: 60px;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--hero-overlay);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            padding: 2rem;
        }

        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            background: linear-gradient(to right, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: fadeIn 1.5s ease;
        }

        [data-mode="simple"] .hero h1 {
            background: linear-gradient(to right, #0077b6, #00b4d8);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            line-height: 1.6;
            animation: fadeIn 1.5s ease 0.3s both;
        }

        .btn {
            display: inline-block;
            background: var(--btn-gradient);
            color: white;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            border: none;
            font-size: 1.1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            animation: fadeIn 1.5s ease 0.6s both;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        /* Services Section */
        .services {
            padding: 5rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            font-size: 2.5rem;
            color: var(--section-title-color);
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }

        .section-title::after {
            content: '';
            position: absolute;
            width: 80px;
            height: 4px;
            background: linear-gradient(to right, #ff6b6b, #4ecdc4);
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 2px;
        }

        [data-mode="simple"] .section-title::after {
            background: linear-gradient(to right, #0077b6, #00b4d8);
        }

        .services-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .service-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .service-img {
            height: 200px;
            overflow: hidden;
        }

        .service-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .service-card:hover .service-img img {
            transform: scale(1.1);
        }

        .service-content {
            padding: 1.5rem;
        }

        .service-content h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #0077b6;
        }

        [data-theme="dark"] .service-content h3 {
            color: #4ecdc4;
        }

        .service-content p {
            color: #666;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        [data-theme="dark"] .service-content p {
            color: #aaa;
        }

        .service-link {
            display: inline-block;
            background: var(--service-link-gradient);
            color: white;
            padding: 0.6rem 1.5rem;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .service-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .login-prompt {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem;
            text-align: center;
        }

        .login-prompt p {
            margin-bottom: 1rem;
            color: #e74c3c;
        }

        /* Login/Signup Modals */
        .auth-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            transition: opacity 0.3s ease;
        }

        .modal-content {
            background-color: var(--card-bg);
            margin: 5% auto;
            padding: 2rem;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
            animation: modalFadeIn 0.3s ease;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-header h3 {
            color: var(--section-title-color);
            font-size: 1.5rem;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-color);
            cursor: pointer;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-color);
        }

        .form-group input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid var(--input-border);
            border-radius: 5px;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-size: 1rem;
        }

        .form-group input:focus {
            border-color: #0077b6;
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 119, 182, 0.1);
        }

        .modal-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
        }

        .modal-btn {
            padding: 0.7rem 1.5rem;
            border-radius: 5px;
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-btn-primary {
            background: var(--btn-gradient);
            color: white;
        }

        .modal-btn-secondary {
            background: transparent;
            border: 1px solid var(--input-border);
            color: var(--text-color);
        }

        .modal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .form-switch {
            color: var(--text-color);
            font-size: 0.9rem;
            cursor: pointer;
            text-decoration: underline;
        }

        .form-switch:hover {
            color: #0077b6;
        }

        .error-message {
            color: #e74c3c;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            display: none;
        }

        /* Forgot Password Link */
        .forgot-password {
            display: block;
            text-align: center;
            margin-top: 1rem;
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.9rem;
        }

        .forgot-password:hover {
            text-decoration: underline;
            color: #0077b6;
        }

        /* About Section */
        .about {
            padding: 5rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .about-content {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .about-content p {
            margin-bottom: 1.5rem;
            line-height: 1.6;
            color: #666;
        }

        [data-theme="dark"] .about-content p {
            color: #aaa;
        }

        /* Statistics Section */
        .stats {
            padding: 4rem 2rem;
            background: var(--header-bg);
            color: white;
            text-align: center;
        }

        .stats-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 10px;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card i {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #4ecdc4;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        /* Footer */
        footer {
            background-color: var(--footer-bg);
            color: white;
            padding: 3rem 2rem;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-col h3 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.5rem;
        }

        .footer-col h3::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 2px;
            background: linear-gradient(to right, #ff6b6b, #4ecdc4);
        }

        [data-mode="simple"] .footer-col h3::after {
            background: linear-gradient(to right, #0077b6, #00b4d8);
        }

        .footer-col p, .footer-col a {
            color: var(--footer-text);
            margin-bottom: 1rem;
            display: block;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-col a:hover {
            color: white;
            padding-left: 5px;
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            background: linear-gradient(to right, #ff6b6b, #4ecdc4);
            transform: translateY(-3px);
        }

        [data-mode="simple"] .social-links a:hover {
            background: linear-gradient(to right, #0077b6, #00b4d8);
        }

        .copyright {
            text-align: center;
            padding-top: 2rem;
            margin-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #aaa;
            font-size: 0.9rem;
        }

        /* Chatbot Styles */
        .chatbot-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: var(--btn-gradient);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            z-index: 999;
            transition: all 0.3s ease;
        }

        .chatbot-btn i {
            font-size: 1.8rem;
            transition: all 0.3s ease;
        }

        .chatbot-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.3);
        }

        .chatbot-container {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 350px;
            height: 500px;
            background: var(--chatbot-bg);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transform: scale(0);
            transform-origin: bottom right;
            opacity: 0;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chatbot-container.active {
            transform: scale(1);
            opacity: 1;
        }

        .chatbot-header {
            background: var(--chatbot-header);
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-header h3 {
            margin: 0;
            font-size: 1.2rem;
        }

        .close-chatbot {
            background: none;
            border: none;
            color: white;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-chatbot:hover {
            transform: rotate(90deg);
        }

        .chatbot-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            background-color: var(--bg-color);
        }

        .message {
            margin-bottom: 1rem;
            max-width: 80%;
            padding: 0.8rem 1rem;
            border-radius: 15px;
            line-height: 1.4;
            position: relative;
            animation: fadeIn 0.3s ease;
        }

        .bot-message {
            background-color: var(--bot-message-bg);
            color: var(--text-color);
            border-top-left-radius: 5px;
            align-self: flex-start;
            margin-right: auto;
        }

        .user-message {
            background: var(--btn-gradient);
            color: white;
            border-top-right-radius: 5px;
            align-self: flex-end;
            margin-left: auto;
        }

        .chatbot-input {
            display: flex;
            padding: 0.8rem;
            border-top: 1px solid #eee;
            background-color: var(--card-bg);
        }

        .chatbot-input input {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid var(--input-border);
            border-radius: 25px;
            outline: none;
            transition: all 0.3s ease;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        .chatbot-input input:focus {
            border-color: #0077b6;
            box-shadow: 0 0 0 3px rgba(0, 119, 182, 0.1);
        }

        .send-btn {
            background: var(--btn-gradient);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-left: 0.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .typing-indicator {
            display: flex;
            padding: 0.5rem 1rem;
            background-color: var(--bot-message-bg);
            border-radius: 15px;
            width: fit-content;
            margin-bottom: 1rem;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background-color: #0077b6;
            border-radius: 50%;
            margin: 0 2px;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingAnimation {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }

        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            header {
                padding: 0.8rem;
            }
            
            .logo {
                font-size: 1.3rem;
            }
            
            .logo i {
                font-size: 1.5rem;
            }
            
            .hero {
                height: auto;
                min-height: calc(100vh - 60px);
                padding: 2rem 1rem;
            }
            
            .hero-content {
                padding: 1rem;
                width: 100%;
            }
            
            .hero h1 {
                font-size: 2rem;
                line-height: 1.3;
                margin-bottom: 1.5rem;
                white-space: normal;
                word-break: keep-all;
                text-align: center;
            }
            
            .hero p {
                font-size: 1.1rem;
                line-height: 1.6;
                margin-bottom: 2rem;
                text-align: center;
                padding: 0 0.5rem;
            }
            
            .hero .btn {
                display: block;
                margin: 0 auto;
                width: fit-content;
            }
            
            /* Mobile menu styles */
            .mobile-menu-btn {
                display: block;
            }
            
            .nav-links {
                display: none;
            }
            
            .mobile-menu {
                display: block;
            }
            
            .services {
                padding: 3rem 1rem;
            }
            
            .services-container {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .service-card {
                margin-bottom: 1.5rem;
            }
            
            .section-title {
                font-size: 1.8rem;
                margin-bottom: 2rem;
            }

            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .stat-card {
                padding: 1.5rem;
            }
            
            .footer-container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .footer-col {
                margin-bottom: 1.5rem;
                text-align: center;
            }
            
            .social-links {
                justify-content: center;
            }
            
            .chatbot-container {
                width: 90%;
                right: 5%;
                bottom: 80px;
                height: 60vh;
                max-height: 400px;
            }
            
            .chatbot-btn {
                width: 50px;
                height: 50px;
                bottom: 20px;
                right: 20px;
            }

            /* Modal adjustments for mobile */
            .modal-content {
                width: 90%;
                margin: 30% auto;
            }
            
            .auth-buttons {
                margin-left: 0;
            }
            
            .user-welcome {
                display: none;
            }
        }
        
        @media (max-width: 480px) {
            .hero h1 {
                font-size: 1.8rem;
                margin-bottom: 1rem;
            }
            
            .hero p {
                font-size: 1rem;
                margin-bottom: 1.8rem;
            }
            
            .btn {
                padding: 0.7rem 1.5rem;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
            
            .service-content h3 {
                font-size: 1.3rem;
            }
            
            .service-content p {
                font-size: 0.9rem;
            }

            .stat-number {
                font-size: 2rem;
            }
            
            .auth-btn {
                padding: 0.4rem 0.8rem;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 320px) {
            .hero h1 {
                font-size: 1.6rem;
            }
            
            .hero p {
                font-size: 0.9rem;
            }
            
            .btn {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
            
            .auth-btn {
                padding: 0.3rem 0.6rem;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header>
        <nav>
            <div class="logo">
                <i class="fas fa-heartbeat"></i>
                <h1>Health.AI</h1>
            </div>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#services">Services</a></li>
                <li><a href="#contact">Contact</a></li>
                
                <!-- User greeting when logged in -->
                <div class="user-welcome" id="userWelcome" style="display: none;">
                    <i class="fas fa-user"></i>
                    <span id="usernameDisplay"></span>
                </div>
                
                <!-- Login/Signup buttons -->
                <div class="auth-buttons" id="authButtons">
                    <button class="auth-btn login" id="loginBtn">Login</button>
                    <button class="auth-btn" id="signupBtn">Sign Up</button>
                </div>
                
                <!-- Admin dashboard button -->
                <button class="admin-btn" id="adminBtn" style="display: none;">Admin</button>
                
                <li>
                    <button class="mode-toggle" id="darkModeToggle" title="Dark Mode">
                        <i class="fas fa-moon"></i>
                    </button>
                </li>
                <li>
                    <button class="mode-toggle" id="simpleModeToggle" title="Simple Mode">
                        <i class="fas fa-eye"></i>
                    </button>
                </li>
            </ul>
        </nav>

        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#services">Services</a></li>
                <li><a href="#contact">Contact</a></li>
                
                <!-- User greeting when logged in -->
                <div class="user-welcome" id="mobileUserWelcome" style="display: none;">
                    <i class="fas fa-user"></i>
                    <span id="mobileUsernameDisplay"></span>
                </div>
                
                <!-- Login/Signup buttons -->
                <div class="auth-buttons" id="mobileAuthButtons">
                    <button class="auth-btn login" id="mobileLoginBtn">Login</button>
                    <button class="auth-btn" id="mobileSignupBtn">Sign Up</button>
                </div>
                
                <!-- Admin dashboard button -->
                <button class="admin-btn" id="mobileAdminBtn" style="display: none;">Admin</button>
                
                <div class="mode-toggles">
                    <button class="mode-toggle" id="mobileDarkModeToggle" title="Dark Mode">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="mode-toggle" id="mobileSimpleModeToggle" title="Simple Mode">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
            </ul>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>Advanced Health Monitoring Solutions</h1>
            <p>Revolutionizing healthcare with AI-powered risk analysis, disease prediction, patient segmentation, and interactive data visualization for better outcomes and personalized care.</p>
            <a href="#services" class="btn">Our Services</a>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services" id="services">
        <h2 class="section-title">Our Services</h2>
        <div class="services-container">
            <!-- Service 1 -->
            <div class="service-card">
                <div class="service-img">
                    <img src="https://images.unsplash.com/photo-1576091160550-2173dba999ef?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="Risk Analysis">
                </div>
                <div class="service-content">
                    <h3>Risk Analysis</h3>
                    <p>Our advanced algorithms analyze your health data to identify potential risks and provide personalized recommendations to mitigate them.</p>
                    <div class="login-prompt" id="riskPrompt">
                        <p>Please log in to access this service</p>
                        <button class="service-link" id="loginService1">Login Now</button>
                    </div>
                    <a href="https://risk-analysis-x3a8.onrender.com" class="service-link" id="riskLink" target="_blank" style="display: none;">Explore Now</a>
                </div>
            </div>

            <!-- Service 2 -->
            <div class="service-card">
                <div class="service-img">
                    <img src="https://images.unsplash.com/photo-1581094271901-8022df4466f9" alt="Disease Prediction">
                </div>
                <div class="service-content">
                    <h3>Disease Prediction</h3>
                    <p>Predict potential health issues before they become serious with our AI-powered disease prediction models based on your health metrics.</p>
                    <div class="login-prompt" id="diseasePrompt">
                        <p>Please log in to access this service</p>
                        <button class="service-link" id="loginService2">Login Now</button>
                    </div>
                    <a href="https://dieases-prediction.onrender.com" class="service-link" id="diseaseLink" target="_blank" style="display: none;">Explore Now</a>
                </div>
            </div>

            <!-- Service 3 -->
            <div class="service-card">
                <div class="service-img">
                    <img src="https://images.unsplash.com/photo-1579684385127-1ef15d508118?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="Patient Segmentation">
                </div>
                <div class="service-content">
                    <h3>Patient Segmentation</h3>
                    <p>Group patients with similar characteristics for more effective treatment plans and resource allocation in healthcare systems.</p>
                    <div class="login-prompt" id="patientPrompt">
                        <p>Please log in to access this service</p>
                        <button class="service-link" id="loginService3">Login Now</button>
                    </div>
                    <a href="https://customer1-segmentation.netlify.app" class="service-link" id="patientLink" target="_blank" style="display: none;">Explore Now</a>
                </div>
            </div>

            <!-- New Service 4 - Power BI Visualization -->
            <div class="service-card">
                <div class="service-img">
                    <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="Data Visualization">
                </div>
                <div class="service-content">
                    <h3>Health Data Visualization</h3>
                    <p>Interactive Power BI dashboards that provide visual insights into health data trends, patterns, and analytics for better decision-making.</p>
                    <div class="login-prompt" id="visualPrompt">
                        <p>Please log in to access this service</p>
                        <button class="service-link" id="loginService4">Login Now</button>
                    </div>
                    <a class='service-link' href='/dashboard' id="visualLink" style="display: none;">Visualize Now</a>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <h2 class="section-title">About Our System</h2>
        <div class="about-content">
            <p>
                The Health Monitoring System is an innovative platform designed to revolutionize healthcare through advanced analytics, AI technologies, and interactive data visualization. Our system integrates multiple healthcare data points to provide comprehensive insights into patient health.
            </p>
            <p>
                With features like risk analysis, disease prediction, patient segmentation, and Power BI dashboards, we empower both healthcare providers and patients to make informed decisions about treatment and prevention strategies.
            </p>
            <p>
                Our mission is to make advanced health monitoring accessible to everyone, improving health outcomes and reducing healthcare costs through early detection, personalized care, and data-driven insights.
            </p>
        </div>
    </section>

    <!-- Statistics Section -->
    <section class="stats">
        <div class="stats-container">
            <div class="stat-card">
                <i class="fas fa-user-check"></i>
                <h3 class="stat-number" data-target="15000">0</h3>
                <p>Successful Patients</p>
            </div>
            <div class="stat-card">
                <i class="fas fa-wifi"></i>
                <h3 class="stat-number" data-target="8500">0</h3>
                <p>Online Consultations</p>
            </div>
            <div class="stat-card">
                <i class="fas fa-heartbeat"></i>
                <h3 class="stat-number" data-target="23000">0</h3>
                <p>Connected Devices</p>
            </div>
        </div>
    </section>

    <!-- Footer Section -->
    <footer id="contact">
        <div class="footer-container">
            <div class="footer-col">
                <h3>Contact Us</h3>
                <p><i class="fas fa-phone"></i> +91 8144138550</p>
                <p><i class="fas fa-envelope"></i> keshabsasmal204@gmail.com</p>
                <p><i class="fas fa-map-marker-alt"></i> Chandaka, Bhubaneswar, India</p>
            </div>
            <div class="footer-col">
                <h3>Quick Links</h3>
                <a href="#home">Home</a>
                <a href="#about">About</a>
                <a href="#services">Services</a>
                <a href="#contact">Contact</a>
            </div>
            <div class="footer-col">
                <h3>Follow Us</h3>
                <div class="social-links">
                    <a href="https://www.facebook.com/keshab.sasmal.77/" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.linkedin.com/in/keshab-kumar-sasmal-0627702a0/" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                    <a href="https://www.instagram.com/k_e_s_h_a_b_27/" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://github.com/Keshab7560" target="_blank"><i class="fab fa-github"></i></a>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 Health Monitoring System. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- AI Chatbot Button -->
    <div class="chatbot-btn" id="chatbotBtn">
        <i class="fas fa-robot"></i>
    </div>

    <!-- Chatbot Container -->
    <div class="chatbot-container" id="chatbotContainer">
        <div class="chatbot-header">
            <h3>Health.AI Assistant</h3>
            <button class="close-chatbot" id="closeChatbot">&times;</button>
        </div>
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="message bot-message">
                Hello! I'm your Health.AI assistant. How can I help you today? Here are some things I can assist with:
                <br><br>
                • Information about our services<br>
                • Health risk analysis guidance<br>
                • Disease prediction explanations<br>
                • Data visualization access<br>
                • Technical support<br>
                • General inquiries
            </div>
        </div>
        <div class="chatbot-input">
            <input type="text" id="userInput" placeholder="Type your message here..." autocomplete="off">
            <button class="send-btn" id="sendBtn">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="auth-modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Login to Your Account</h3>
                <button class="close-modal" id="closeLogin">&times;</button>
            </div>
            <form method="POST" action="{{ url_for('login') }}">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" name="email" placeholder="Enter your email" required>
                        <div class="error-message" id="loginEmailError"></div>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <div class="password-input-container">
                            <input type="password" id="loginPassword" name="password" placeholder="Enter your password" required>
                            <i class="fas fa-eye toggle-password" onclick="togglePassword('loginPassword')"></i>
                        </div>
                        <div class="error-message" id="loginPasswordError"></div>
                    </div>
                    <a href="/forgot_password" class="forgot-password">Forgot Password?</a>
                </div>
                <div class="modal-footer">
                    <span class="form-switch" id="showSignup">Don't have an account? Sign Up</span>
                    <button type="submit" class="modal-btn modal-btn-primary">Login</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Signup Modal -->
    <div class="auth-modal" id="signupModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create an Account</h3>
                <button class="close-modal" id="closeSignup">&times;</button>
            </div>
            <form method="POST" action="{{ url_for('signup') }}">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="signupName">Full Name</label>
                        <input type="text" id="signupName" name="name" placeholder="Enter your full name" required>
                        <div class="error-message" id="signupNameError"></div>
                    </div>
                    <div class="form-group">
                        <label for="signupEmail">Email</label>
                        <input type="email" id="signupEmail" name="email" placeholder="Enter your email" required>
                        <div class="error-message" id="signupEmailError"></div>
                    </div>
                    <div class="form-group">
                        <label for="signupPassword">Password</label>
                        <div class="password-input-container">
                            <input type="password" id="signupPassword" name="password" placeholder="Create a password" required
                                   pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$">
                            <i class="fas fa-eye toggle-password" onclick="togglePassword('signupPassword')"></i>
                        </div>
                        <div class="form-text">
                            Password must contain:
                            <ul>
                                <li>At least 8 characters</li>
                                <li>At least one uppercase letter</li>
                                <li>At least one lowercase letter</li>
                                <li>At least one number</li>
                                <li>At least one special character (@$!%*?&)</li>
                            </ul>
                        </div>
                        <div class="error-message" id="signupPasswordError"></div>
                    </div>
                    <div class="form-group">
                        <label for="signupConfirm">Confirm Password</label>
                        <div class="password-input-container">
                            <input type="password" id="signupConfirm" name="confirm" placeholder="Confirm your password" required>
                            <i class="fas fa-eye toggle-password" onclick="togglePassword('signupConfirm')"></i>
                        </div>
                        <div class="error-message" id="signupConfirmError"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <span class="form-switch" id="showLogin">Already have an account? Login</span>
                    <button type="submit" class="modal-btn modal-btn-primary">Sign Up</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div class="auth-modal" id="adminModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Admin Login</h3>
                <button class="close-modal" id="closeAdmin">&times;</button>
            </div>
            <form method="POST" action="{{ url_for('admin_login') }}">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="adminEmail">Admin Email</label>
                        <input type="email" id="adminEmail" name="email" placeholder="Enter admin email" required>
                        <div class="error-message" id="adminEmailError"></div>
                    </div>
                    <div class="form-group">
                        <label for="adminPassword">Password</label>
                        <div class="password-input-container">
                            <input type="password" id="adminPassword" name="password" placeholder="Enter admin password" required>
                            <i class="fas fa-eye toggle-password" onclick="togglePassword('adminPassword')"></i>
                        </div>
                        <div class="error-message" id="adminPasswordError"></div>
                    </div>
                    <a href="/forgot_password" class="forgot-password">Forgot Password?</a>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="modal-btn modal-btn-primary">Login</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // User session management
        let currentUser = null;
        let isAdmin = false;

        // DOM Elements
        const loginBtn = document.getElementById('loginBtn');
        const signupBtn = document.getElementById('signupBtn');
        const adminBtn = document.getElementById('adminBtn');
        const userWelcome = document.getElementById('userWelcome');
        const usernameDisplay = document.getElementById('usernameDisplay');
        const authButtons = document.getElementById('authButtons');
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileLoginBtn = document.getElementById('mobileLoginBtn');
        const mobileSignupBtn = document.getElementById('mobileSignupBtn');
        const mobileAdminBtn = document.getElementById('mobileAdminBtn');
        const mobileUserWelcome = document.getElementById('mobileUserWelcome');
        const mobileUsernameDisplay = document.getElementById('mobileUsernameDisplay');
        const mobileAuthButtons = document.getElementById('mobileAuthButtons');

        // Modal elements
        const loginModal = document.getElementById('loginModal');
        const signupModal = document.getElementById('signupModal');
        const adminModal = document.getElementById('adminModal');
        const closeLogin = document.getElementById('closeLogin');
        const closeSignup = document.getElementById('closeSignup');
        const closeAdmin = document.getElementById('closeAdmin');
        const showSignup = document.getElementById('showSignup');
        const showLogin = document.getElementById('showLogin');

        // Service elements
        const loginService1 = document.getElementById('loginService1');
        const loginService2 = document.getElementById('loginService2');
        const loginService3 = document.getElementById('loginService3');
        const loginService4 = document.getElementById('loginService4');

        // Chatbot elements
        const chatbotBtn = document.getElementById('chatbotBtn');
        const chatbotContainer = document.getElementById('chatbotContainer');
        const closeChatbot = document.getElementById('closeChatbot');
        const chatbotMessages = document.getElementById('chatbotMessages');
        const userInput = document.getElementById('userInput');
        const sendBtn = document.getElementById('sendBtn');

        // Theme toggles
        const darkModeToggle = document.getElementById('darkModeToggle');
        const simpleModeToggle = document.getElementById('simpleModeToggle');
        const body = document.body;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            checkSessionStatus();
            setupEventListeners();
            updateUI();
            initTheme();
        });

        // Check session status with server
        async function checkSessionStatus() {
            try {
                const response = await fetch('/check_session');
                const data = await response.json();
                
                if (data.logged_in) {
                    currentUser = {
                        name: data.name,
                        isAdmin: data.is_admin
                    };
                    isAdmin = data.is_admin;
                } else {
                    currentUser = null;
                    isAdmin = false;
                }
                
                updateUI();
            } catch (error) {
                console.error('Session check error:', error);
            }
        }

        // Setup all event listeners
        function setupEventListeners() {
            // Modal controls
            loginBtn.addEventListener('click', () => showModal(loginModal));
            signupBtn.addEventListener('click', () => showModal(signupModal));
            adminBtn.addEventListener('click', () => showModal(adminModal));
            
            mobileLoginBtn.addEventListener('click', () => showModal(loginModal));
            mobileSignupBtn.addEventListener('click', () => showModal(signupModal));
            mobileAdminBtn.addEventListener('click', () => showModal(adminModal));
            
            closeLogin.addEventListener('click', () => closeModal(loginModal));
            closeSignup.addEventListener('click', () => closeModal(signupModal));
            closeAdmin.addEventListener('click', () => closeModal(adminModal));
            
            showSignup.addEventListener('click', () => {
                closeModal(loginModal);
                showModal(signupModal);
            });
            
            showLogin.addEventListener('click', () => {
                closeModal(signupModal);
                showModal(loginModal);
            });
            
            // Service login prompts
            loginService1.addEventListener('click', () => showModal(loginModal));
            loginService2.addEventListener('click', () => showModal(loginModal));
            loginService3.addEventListener('click', () => showModal(loginModal));
            loginService4.addEventListener('click', () => showModal(loginModal));
            
            // Mobile menu
            mobileMenuBtn.addEventListener('click', toggleMobileMenu);
            
            // Close modals when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === loginModal) closeModal(loginModal);
                if (e.target === signupModal) closeModal(signupModal);
                if (e.target === adminModal) closeModal(adminModal);
            });
            
            // Chatbot controls
            chatbotBtn.addEventListener('click', toggleChatbot);
            closeChatbot.addEventListener('click', () => chatbotContainer.classList.remove('active'));
            sendBtn.addEventListener('click', handleUserInput);
            userInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleUserInput();
            });
            
            // Theme toggles
            darkModeToggle.addEventListener('click', toggleDarkMode);
            simpleModeToggle.addEventListener('click', toggleSimpleMode);
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                    mobileMenu.classList.remove('active');
                });
            });
        }

        // Update UI based on login state
        function updateUI() {
            if (currentUser) {
                // Desktop view
                userWelcome.style.display = 'flex';
                usernameDisplay.textContent = currentUser.name;
                authButtons.style.display = 'none';
                adminBtn.style.display = isAdmin ? 'block' : 'none';
                
                // Mobile view
                mobileUserWelcome.style.display = 'flex';
                mobileUsernameDisplay.textContent = currentUser.name;
                mobileAuthButtons.style.display = 'none';
                mobileAdminBtn.style.display = isAdmin ? 'block' : 'none';
                
                // Show service links and hide login prompts
                document.querySelectorAll('.login-prompt').forEach(el => {
                    el.style.display = 'none';
                });
                document.querySelectorAll('.service-link').forEach(el => {
                    el.style.display = 'inline-block';
                });
            } else {
                // Desktop view
                userWelcome.style.display = 'none';
                authButtons.style.display = 'flex';
                adminBtn.style.display = 'none';
                
                // Mobile view
                mobileUserWelcome.style.display = 'none';
                mobileAuthButtons.style.display = 'flex';
                mobileAdminBtn.style.display = 'none';
                
                // Show login prompts and hide service links
                document.querySelectorAll('.login-prompt').forEach(el => {
                    el.style.display = 'flex';
                });
                document.querySelectorAll('.service-link').forEach(el => {
                    el.style.display = 'none';
                });
            }
        }

        // Modal controls
        function showModal(modal) {
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            mobileMenu.classList.remove('active');
            clearErrors();
        }

        function closeModal(modal) {
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        function clearErrors() {
            document.querySelectorAll('.error-message').forEach(error => {
                error.textContent = '';
                error.style.display = 'none';
            });
        }

        function showError(elementId, message) {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.style.display = 'block';
        }

        // Mobile menu controls
        function toggleMobileMenu() {
            mobileMenu.classList.toggle('active');
        }

        // Chatbot functionality
        function toggleChatbot() {
            chatbotContainer.classList.toggle('active');
            mobileMenu.classList.remove('active');
        }

        function addMessage(text, isUser) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(isUser ? 'user-message' : 'bot-message');
            messageDiv.textContent = text;
            chatbotMessages.appendChild(messageDiv);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        function showTyping() {
            const typingDiv = document.createElement('div');
            typingDiv.classList.add('typing-indicator');
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            `;
            chatbotMessages.appendChild(typingDiv);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        function hideTyping() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) typingIndicator.remove();
        }

        async function handleUserInput() {
            const text = userInput.value.trim();
            if (text === '') return;
            
            addMessage(text, true);
            userInput.value = '';
            
            showTyping();
            
            try {
                const response = await fetch('/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ message: text })
                });
                
                const data = await response.json();
                hideTyping();
                addMessage(data.response, false);
            } catch (error) {
                hideTyping();
                addMessage("I'm sorry, I'm having trouble connecting right now. Please try again later.", false);
                console.error('Error:', error);
            }
        }

        // Password toggle functionality
        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const icon = input.nextElementSibling;
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }

        // Password validation
        function validatePassword(password) {
            const errors = [];
            if (password.length < 8) {
                errors.push("Password must be at least 8 characters long");
            }
            if (!/[A-Z]/.test(password)) {
                errors.push("Password must contain at least one uppercase letter");
            }
            if (!/[a-z]/.test(password)) {
                errors.push("Password must contain at least one lowercase letter");
            }
            if (!/[0-9]/.test(password)) {
                errors.push("Password must contain at least one number");
            }
            if (!/[@$!%*?&]/.test(password)) {
                errors.push("Password must contain at least one special character (@$!%*?&)");
            }
            return errors;
        }

        // Update the signup form submission to validate password
        document.querySelector('#signupModal form').addEventListener('submit', function(e) {
            const password = document.getElementById('signupPassword').value;
            const confirm = document.getElementById('signupConfirm').value;
            const passwordError = document.getElementById('signupPasswordError');
            const confirmError = document.getElementById('signupConfirmError');
            
            // Clear previous errors
            passwordError.textContent = '';
            passwordError.style.display = 'none';
            confirmError.textContent = '';
            confirmError.style.display = 'none';
            
            // Validate password
            const passwordErrors = validatePassword(password);
            if (passwordErrors.length > 0) {
                e.preventDefault();
                passwordError.textContent = passwordErrors.join(', ');
                passwordError.style.display = 'block';
                return;
            }
            
            // Check password match
            if (password !== confirm) {
                e.preventDefault();
                confirmError.textContent = "Passwords don't match";
                confirmError.style.display = 'block';
            }
        });

        // Theme management
        function initTheme() {
            if (localStorage.getItem('darkMode') === 'enabled') {
                body.setAttribute('data-theme', 'dark');
                darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }

            if (localStorage.getItem('simpleMode') === 'enabled') {
                body.setAttribute('data-mode', 'simple');
                simpleModeToggle.innerHTML = '<i class="fas fa-eye-slash"></i>';
            }
        }

        function toggleDarkMode() {
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                darkModeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                localStorage.setItem('darkMode', 'disabled');
            } else {
                body.setAttribute('data-theme', 'dark');
                darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                localStorage.setItem('darkMode', 'enabled');
            }
        }

        function toggleSimpleMode() {
            if (body.getAttribute('data-mode') === 'simple') {
                body.removeAttribute('data-mode');
                simpleModeToggle.innerHTML = '<i class="fas fa-eye"></i>';
                localStorage.setItem('simpleMode', 'disabled');
            } else {
                body.setAttribute('data-mode', 'simple');
                simpleModeToggle.innerHTML = '<i class="fas fa-eye-slash"></i>';
                localStorage.setItem('simpleMode', 'enabled');
            }
        }

        // Statistics counter animation
        function animateStats() {
            const statNumbers = document.querySelectorAll('.stat-number');
            
            statNumbers.forEach(stat => {
                const target = +stat.getAttribute('data-target');
                const increment = target / 100;
                let current = 0;
                
                const timer = setInterval(() => {
                    current += increment;
                    stat.textContent = Math.floor(current);
                    
                    if (current >= target) {
                        stat.textContent = target;
                        clearInterval(timer);
                    }
                }, 20);
            });
        }

        // Run the animation when the stats section comes into view
        const statsSection = document.querySelector('.stats');
        const observer = new IntersectionObserver((entries) => {
            if (entries[0].isIntersecting) {
                animateStats();
                observer.unobserve(statsSection);
            }
        }, { threshold: 0.5 });

        observer.observe(statsSection);

        // Add logout buttons
        const logoutBtn = document.createElement('button');
        logoutBtn.textContent = 'Logout';
        logoutBtn.classList.add('auth-btn', 'login');
        logoutBtn.style.marginLeft = '10px';
        logoutBtn.addEventListener('click', async () => {
            try {
                const response = await fetch('/logout');
                if (response.ok) {
                    currentUser = null;
                    isAdmin = false;
                    updateUI();
                    window.location.reload();
                }
            } catch (error) {
                console.error('Logout error:', error);
            }
        });
        userWelcome.appendChild(logoutBtn);

        const mobileLogoutBtn = document.createElement('button');
        mobileLogoutBtn.textContent = 'Logout';
        mobileLogoutBtn.classList.add('auth-btn', 'login');
        mobileLogoutBtn.style.marginLeft = '10px';
        mobileLogoutBtn.addEventListener('click', async () => {
            try {
                const response = await fetch('/logout');
                if (response.ok) {
                    currentUser = null;
                    isAdmin = false;
                    updateUI();
                    window.location.reload();
                }
            } catch (error) {
                console.error('Logout error:', error);
            }
        });
        mobileUserWelcome.appendChild(mobileLogoutBtn);
    </script>
</body>
</html>